<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    function computerPlay() {
      let numberSelection = Math.floor(Math.random() * 100) % 3;

      if (numberSelection == 0) {
        return 'rock';
      } else if (numberSelection == 1) {
        return 'paper';
      } else if (numberSelection == 2) {
        return 'scissors';
      } else {
        return 'Error';
      }
    }

    function oneRound() {
      let player = prompt('Rock, Paper, or Scissors?: ').toLowerCase();
      let computer = computerPlay();

      if (player == computer) {
        return [`It's a tie! You and the computer both chose ${player}.`, 1];
      } else if ((player == 'rock' && computer == 'paper') || (player == 'paper' && computer == 'scissors') || (player == 'scissors' && computer == 'rock')) {
        return [`You have lost. You chose ${player}, but the computer chose ${computer}.`, 2];
      } else if ((player == 'rock' && computer == 'scissors') || (player == 'paper' && computer == 'rock') || (player == 'scissors' && computer == 'paper')) {
        return [`You have won! You chose ${player} and the computer chose ${computer}.`, 3];
      } else {
        return [`Your selection of '${player}' is not valid.`, 0];
      }
    }
    
    function game() {
      let playerScore = 0;
      let computerScore = 0;
      let ties = 0;
      
      for (let x = 0; x < 5; x++) {
        let result = oneRound();

        if (result[1] == 2) {
          computerScore++;
        } else if (result[1] == 3) {
          playerScore++;
        } else if (result[1] == 1) {
          ties++;
        }

        console.log(result[0]);
      }

      if (playerScore < computerScore) {
        console.log(`You have lost the game. The computer won ${computerScore} times and you only won ${playerScore} times. There were ${ties} ties.`);
      } else if (playerScore > computerScore) {
        console.log(`You have won the game! You won ${playerScore} times and the computer only won ${computerScore} times. There were ${ties} ties.`);
      } else {
        if (ties == 1) {
          console.log(`The score was tied! There was ${ties} tie. You and the computer each won ${playerScore} times.`);
        } else {
        console.log(`The score was tied! There were ${ties} ties. You and the computer each won ${playerScore} times.`);
        }
      }
    }

    
    game();
    // console.log(oneRound());
  </script>
</body>
</html>